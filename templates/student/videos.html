{% extends 'common/base.html' %}
{% from 'common/macros.html' import render_file_grid %}

{% block content %}
<div class="animate-fade-in">
    <div class="d-flex align-items-center mb-4">
        <i class="bi bi-camera-reels-fill text-primary fs-2 me-3"></i>
        <h2 class="mb-0 fw-bold">Lecture Videos</h2>
    </div>

    <!-- Year Filter Tabs -->
    <ul class="nav nav-pills mb-4" id="videoYearTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="vid-all-tab" data-bs-toggle="pill" data-bs-target="#vid-all"
                type="button" role="tab">All Years</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="vid-year1-tab" data-bs-toggle="pill" data-bs-target="#vid-year1" type="button"
                role="tab">1st Year</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="vid-year2-tab" data-bs-toggle="pill" data-bs-target="#vid-year2" type="button"
                role="tab">2nd Year</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="vid-year3-tab" data-bs-toggle="pill" data-bs-target="#vid-year3" type="button"
                role="tab">3rd Year</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="vid-year4-tab" data-bs-toggle="pill" data-bs-target="#vid-year4" type="button"
                role="tab">4th Year</button>
        </li>
    </ul>

    <div class="tab-content" id="videoYearTabsContent">
        <!-- All Years Tab -->
        <div class="tab-pane fade show active" id="vid-all" role="tabpanel">
            {{ render_file_grid(videos, filter_year=None, file_type='video') }}
        </div>

        <!-- Year 1 Tab -->
        <div class="tab-pane fade" id="vid-year1" role="tabpanel">
            {{ render_file_grid(videos, filter_year='1', file_type='video') }}
        </div>

        <!-- Year 2 Tab -->
        <div class="tab-pane fade" id="vid-year2" role="tabpanel">
            {{ render_file_grid(videos, filter_year='2', file_type='video') }}
        </div>

        <!-- Year 3 Tab -->
        <div class="tab-pane fade" id="vid-year3" role="tabpanel">
            {{ render_file_grid(videos, filter_year='3', file_type='video') }}
        </div>

        <!-- Year 4 Tab -->
        <div class="tab-pane fade" id="vid-year4" role="tabpanel">
            {{ render_file_grid(videos, filter_year='4', file_type='video') }}
        </div>
    </div>
</div>
{% endblock %}