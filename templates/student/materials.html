{% extends 'common/base.html' %}
{% from 'common/macros.html' import render_file_grid %}

{% block content %}
<div class="animate-fade-in">
    <div class="d-flex align-items-center mb-4">
        <i class="bi bi-journal-bookmark-fill text-primary fs-2 me-3"></i>
        <h2 class="mb-0 fw-bold">Study Materials</h2>
    </div>

    <!-- Year Filter Tabs -->
    <ul class="nav nav-pills mb-4" id="yearTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="all-tab" data-bs-toggle="pill" data-bs-target="#all" type="button"
                role="tab">All Years</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="year1-tab" data-bs-toggle="pill" data-bs-target="#year1" type="button"
                role="tab">1st Year</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="year2-tab" data-bs-toggle="pill" data-bs-target="#year2" type="button"
                role="tab">2nd Year</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="year3-tab" data-bs-toggle="pill" data-bs-target="#year3" type="button"
                role="tab">3rd Year</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="year4-tab" data-bs-toggle="pill" data-bs-target="#year4" type="button"
                role="tab">4th Year</button>
        </li>
    </ul>

    <div class="tab-content" id="yearTabsContent">
        <!-- All Years Tab -->
        <div class="tab-pane fade show active" id="all" role="tabpanel">
            {{ render_file_grid(materials, filter_year=None, file_type='material') }}
        </div>

        <!-- Year 1 Tab -->
        <div class="tab-pane fade" id="year1" role="tabpanel">
            {{ render_file_grid(materials, filter_year='1', file_type='material') }}
        </div>

        <!-- Year 2 Tab -->
        <div class="tab-pane fade" id="year2" role="tabpanel">
            {{ render_file_grid(materials, filter_year='2', file_type='material') }}
        </div>

        <!-- Year 3 Tab -->
        <div class="tab-pane fade" id="year3" role="tabpanel">
            {{ render_file_grid(materials, filter_year='3', file_type='material') }}
        </div>

        <!-- Year 4 Tab -->
        <div class="tab-pane fade" id="year4" role="tabpanel">
            {{ render_file_grid(materials, filter_year='4', file_type='material') }}
        </div>
    </div>
</div>
{% endblock %}